@import '../../styles/variables.scss';
@import '../../styles/mixins.scss';

.dashboard-container {
  background-color: $gray-bg;
  color: $gray-dark;
  height: 100vh;
  width: 96vw; // Corrigido para 100vw (view width)
  margin: 0;
  padding: $spacing-lg;
  font-family: $font-main;
  box-sizing: border-box;
  overflow: hidden;
  display: flex;
  flex-direction: column;

  h1 {
    text-align: center;
    font-size: 2rem;
    color: $blue-dark;
    margin-bottom: $spacing-lg;
    flex-shrink: 0;
  }
}

.dashboard-grid {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(6, 1fr);
  gap: $spacing-md;
  grid-template-areas:
    "usage usage next next status temp"
    "usage usage next next level temp"
    "moisture moisture moisture moisture moisture moisture"
    "moisture moisture moisture moisture moisture moisture"
    "schedule schedule schedule schedule schedule schedule"
    "schedule schedule schedule schedule schedule schedule";
  flex: 1;
  min-height: 0;
}

.card {
  background-color: $white;
  border-radius: $border-radius-lg;
  padding: $spacing-md;
  box-shadow: $shadow-card;
  transition: transform $transition-normal;
  height: 100%;

  h2 {
    font-size: 1.1rem;
    margin-bottom: $spacing-sm;
    color: $blue-dark;
  }

  p {
    font-size: 1.5rem;
    font-weight: $font-bold;
    color: $gray-dark;
  }

  .ativo {
    color: $green-dark;
  }

  .inativo {
    color: $red;
  }

  &:hover {
    transform: translateY(-0.25rem); // -4px convertido
  }
}

.water-usage-container {
  grid-area: usage;
  height: 100%;

  .water-usage {
    height: 100%;
    background-color: lighten($blue, 35%);
    border-radius: $border-radius-lg;
    padding: $spacing-md;
    box-shadow: $shadow-card;
    transition: transform $transition-normal;
    
    &:hover {
      transform: translateY(-0.25rem);
    }
    
    &__label {
      font-size: 1.1rem;
      margin-bottom: $spacing-sm;
      color: $blue-dark;
      text-align: center;
      font-weight: $font-bold;
    }
    
    &__circle-container {
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      height: 70%;
    }
    
    &__value {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      
      &-number {
        font-size: 2rem;
        font-weight: $font-bold;
        color: $blue-dark;
      }
      
      &-unit {
        font-size: 1rem;
        color: $gray-dark;
      }
    }
    
    &__range {
      display: flex;
      justify-content: space-between;
      width: 100%;
      font-size: 0.8rem;
      color: $gray-dark;
      margin-top: $spacing-sm;
      padding: 0 $spacing-lg; // 20px convertido
    }
  }
}

.next-irrigation-container {
  grid-area: next;
  height: 100%;
}

.system-status-container {
  grid-area: status;
  height: 100%;
}

// Estilo para os outros cards
[data-area="next"],
[data-area="status"],
[data-area="temp"],
[data-area="level"] {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  
  p {
    font-size: 2rem;
    margin-top: 0.625rem; // 10px convertido
  }
}

[data-area="moisture"] {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  
  h2 {
    font-size: 1.5rem;
    margin-bottom: 1rem;
  }
  
  p {
    font-size: 3rem;
    font-weight: $font-bold;
  }
}

[data-area="schedule"] {
  display: flex;
  flex-direction: column;
  
  h2 {
    font-size: 1.5rem;
    margin-bottom: 1rem;
    text-align: center;
  }
  
  // Estilo para o gráfico de barras
  .bar-chart {
    display: flex;
    height: 9.375rem; // 150px convertido
    align-items: flex-end;
    justify-content: space-around;
    margin-top: 1.25rem; // 20px convertido
    
    .bar {
      width: 2.5rem; // 40px convertido
      background-color: $blue;
      border-radius: $border-radius-sm $border-radius-sm 0 0;
      position: relative;
      
      &::after {
        content: attr(data-value);
        position: absolute;
        bottom: -1.5625rem; // -25px convertido
        left: 50%;
        transform: translateX(-50%);
        font-size: 0.8rem;
      }
    }
  }
}

// Adicione isso no final do arquivo
[data-area="temp"] {
  .card-custom-content {
    padding: $spacing-sm 0;
    
    // Ajustes específicos para o termômetro
    .thermometer {
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
  }
}

// Responsivo
@media (max-width: $breakpoint-md) { // 800px convertido para breakpoint
  .dashboard-grid {
    display: flex;
    flex-direction: column;
    gap: $spacing-md;
  }
}